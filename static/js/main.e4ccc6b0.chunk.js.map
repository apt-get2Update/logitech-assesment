{"version":3,"sources":["components/OrderBook/Row.js","components/OrderBook/Header.js","components/OrderBook/BidsBook.js","components/OrderBook/AsksBook.js","store/OrderBook/actions/update_bids.js","store/OrderBook/actions/update_asks.js","store/OrderBook/actions/clear_asks.js","store/OrderBook/actions/clear_bids.js","store/OrderBook/actions/interface.js","containers/OrderBook.js","components/OrderBook/Modal.js","components/OrderBook/Interface.js","store/OrderBook/reducerUtil.js","store/store.js","store/OrderBook/reducers/bids.js","store/OrderBook/reducers/asks.js","store/OrderBook/reducers/interface.js","App.js","serviceWorker.js","index.js"],"names":["Row","_ref","row","index","books","zoom","type","visual","format","_ref$order","order","point","key","maxTotal","reduce","a","b","percentage","bimage","concat","keys","split","react_default","createElement","className","style","backgroundImage","amount","count","price","total","map","k","Math","abs","parseFloat","toFixed","Header","role","c","toUpperCase","BidsBook","props","orderBookBids","OrderBook_Row","AsksBook","orderBookAsks","updateBidsOrderBook","newBidsData","updateAsksOrderBook","newAsksData","clearAsksOrderBook","clearBidsOrderBook","updateOrder","newOrder","data","updateVisualization","newVisualization","updateFormat","wss","Modal","handleClose","show","children","showHideClassName","onClick","orders","formats","toProperCase","str","replace","txt","charAt","substr","toLowerCase","InterfaceView","interFace","id","value","checked","onChange","htmlFor","o","join","reverse","OrderBook","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","connectionReady","isConnected","pres","volume24h","lastPrice","priceChange","subscribeToBtc","closeConnection","currentPres","setState","_this2","WebSocket","onopen","console","log","send","JSON","stringify","event","flags","channel","pair","prec","len","onmessage","evt","payloadData","Array","isArray","length","tmpbookOrderRow","onMessageRecieved","parse","onclose","close","_this3","disabled","zoomOut","bind","zoomIn","handleModal","lessPrecision","morePrecision","OrderBook_BidsBook","OrderBook_AsksBook","OrderBook_Modal","Interface","Component","connect","dispatch","bindActionCreators","reducerUtil","arguments","undefined","newState","asks","priceExists","forEach","slice","newStateCombined","toConsumableArray","sort","pop","filter","objectSpread","rootReducer","combineReducers","action","dataManimpulator","persistedStore","stateStr","localStorage","getItem","e","error","loadFromLocalStorage","store","createStore","subscribe","setItem","saveToLocalStorage","getState","App","es","reducers","containers_OrderBook","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e4ccc6b0.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Row({\n  row,\n  index,\n  books,\n  zoom,\n  type,\n  visual,\n  format,\n  order = \"count,price,amount,total\",\n}) {\n  const point = format === \"compact\" ? 2 : 4;\n  const key = visual === \"default\" ? \"total\" : \"amount\";\n  const maxTotal = books.reduce((a, b) => (a < b[key] ? b[key] : a), 0);\n  const percentage = (row[key] * 100) / (maxTotal * zoom);\n\n  let bimage =\n    type === \"bits\"\n      ? `linear-gradient(to left, #314432 ${percentage}%, #1b262d 0%)`\n      : `linear-gradient(to right, #402c33 ${percentage}%, #1b262d 0%)`;\n  const keys = order.split(\",\");\n  return (\n    <div\n      className={type === \"bits\" ? \"flex-table\" : \"flex-table reverse\"}\n      style={{ backgroundImage: bimage }}\n      key={`${type}-${index}${row.amount}${row.count}%${row.price}${row.total}`}\n    >\n      {keys.map((k) => (\n        <div className=\"flex-row\">\n          {k === \"amount\" || k === \"total\"\n            ? Math.abs(parseFloat(row[k])).toFixed(point)\n            : row[k]}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default Row;\n","import React from \"react\";\n\nexport default function Header({ order, className }) {\n  const keys = order.split(\",\");\n  return (\n    <div className={className} role=\"rowgroup\">\n      {keys.map((c) => (\n        <div className=\"flex-row\" key={c}>\n          {c.toUpperCase()}\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React from \"react\";\nimport Row from \"./Row\";\nimport Header from \"./Header\";\nfunction BidsBook(props) {\n  function renderBidRows() {\n    if (!props.orderBookBids) {\n      return <h2>Loading...</h2>;\n    }\n    return props.orderBookBids.map((row, index) => (\n      <Row\n        key={row.price}\n        row={row}\n        index={index}\n        books={props.orderBookBids}\n        zoom={props.zoom}\n        type={\"bits\"}\n        visual={props.visual}\n        format={props.format}\n        order={props.order}\n      />\n    ));\n  }\n  return (\n    <div className=\"table-container\">\n      <Header order={props.order} className=\"flex-table header\" />\n      {renderBidRows()}\n    </div>\n  );\n}\n\nexport default BidsBook;\n","import React from \"react\";\nimport Row from \"./Row\";\nimport Header from \"./Header\";\n\nfunction AsksBook(props) {\n  function renderAskRows() {\n    if (!props.orderBookAsks) {\n      return <h2>Loading...</h2>;\n    }\n    return props.orderBookAsks.map((row, index) => (\n      <Row\n        key={row.price}\n        row={row}\n        index={index}\n        books={props.orderBookAsks}\n        zoom={props.zoom}\n        type={\"asks\"}\n        visual={props.visual}\n        format={props.format}\n        order={props.order}\n      />\n    ));\n  }\n  return (\n    <div className=\"table-container\">\n      <Header order={props.order} className=\"flex-table header reverse\" />\n      {renderAskRows()}\n    </div>\n  );\n}\n\nexport default AsksBook;\n","function updateBidsOrderBook(newBidsData) {\n  return {\n    type: 'UPDATE_BIDS_ORDER_BOOK',\n    newBidsData: newBidsData,\n  }\n}\nexport default updateBidsOrderBook;","function updateAsksOrderBook(newAsksData) {\n  return {\n    type: 'UPDATE_ASKS_ORDER_BOOK',\n    newAsksData: newAsksData,\n  }\n}\nexport default updateAsksOrderBook;","function clearAsksOrderBook(newAsksData) {\n  return {\n    type: 'CLEAR_ASKS',\n    newAsksData: []\n  }\n}\nexport default clearAsksOrderBook;","function clearBidsOrderBook(newBidsData) {\n  return {\n    type: 'CLEAR_BIDS',\n    newBidsData: []\n  }\n}\nexport default clearBidsOrderBook;","export function updateOrder(newOrder) {\n    return {\n      type: 'UPDATE_ORDER',\n      data: newOrder\n    }\n  }\n  export function updateVisualization(newVisualization) {\n    return {\n      type: 'UPDATE_VISUALIZATION',\n      data: newVisualization\n    }\n  }\n  export function updateFormat(format) {\n    return {\n      type: 'UPDATE_FORMAT',\n      data: format\n    }\n  }","import React, { Component } from \"react\";\nimport BidsBook from \"../components/OrderBook/BidsBook\";\nimport AsksBook from \"../components/OrderBook/AsksBook\";\nimport { connect } from \"react-redux\";\nimport updateBidsOrderBook from \"../store/OrderBook/actions/update_bids\";\nimport updateAsksOrderBook from \"../store/OrderBook/actions/update_asks\";\nimport clearAsksOrderBook from \"../store/OrderBook/actions/clear_asks\";\nimport clearBidsOrderBook from \"../store/OrderBook/actions/clear_bids\";\nimport {\n  updateFormat,\n  updateVisualization,\n  updateOrder,\n} from \"../store/OrderBook/actions/interface\";\nimport { bindActionCreators } from \"redux\";\nimport Modal from \"../components/OrderBook/Modal\";\nimport InterfaceView from \"../components/OrderBook/Interface\";\nlet wss;\nclass OrderBook extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      connectionReady: true,\n      isConnected: false,\n      pres: 0,\n      volume24h: 0,\n      lastPrice: 0,\n      priceChange: 0,\n      zoom: 1,\n      show: false,\n    };\n  }\n  componentDidMount() {\n    this.subscribeToBtc();\n  }\n  componentWillUnmount() {\n    this.closeConnection();\n  }\n  morePrecision() {\n    this.closeConnection();\n    this.props.clearBidsOrderBook();\n    this.props.clearAsksOrderBook();\n    const currentPres = this.state.pres;\n    this.setState({ pres: currentPres + 1 });\n    this.subscribeToBtc();\n  }\n\n  lessPrecision() {\n    this.closeConnection();\n    this.props.clearBidsOrderBook();\n    this.props.clearAsksOrderBook();\n    const currentPres = this.state.pres;\n    this.setState({ pres: currentPres - 1 });\n    this.subscribeToBtc();\n  }\n  subscribeToBtc() {\n    this.setState({ isConnected: true });\n    let onMessageRecieved = (payloadData) => {\n      if (\n        !payloadData.event &&\n        Array.isArray(payloadData[1]) &&\n        payloadData[1].length === 3\n      ) {\n        //Is order book data\n        let tmpbookOrderRow = {\n          price: parseFloat(payloadData[1][0]),\n          count: payloadData[1][1],\n          amount: parseFloat(payloadData[1][2]),\n          total: parseFloat(0),\n        };\n        tmpbookOrderRow.amount > 0\n          ? this.props.updateBidsOrderBook(tmpbookOrderRow)\n          : this.props.updateAsksOrderBook(tmpbookOrderRow);\n      }\n    };\n    wss = new WebSocket(\"wss://api-pub.bitfinex.com/ws/2\");\n    wss.onopen = () => {\n      console.log(\"connected\");\n      this.setState({ connectionReady: true });\n      wss.send(JSON.stringify({ event: \"conf\", flags: 131072 }));\n      wss.send(\n        JSON.stringify({\n          event: \"subscribe\",\n          channel: \"book\",\n          pair: \"tBTCUSD\",\n          prec: \"P\" + this.state.pres,\n          len: 25,\n        })\n      );\n    };\n\n    wss.onmessage = (evt) => {\n      // listen to data sent from the websocket server\n      const message = JSON.parse(evt.data);\n      onMessageRecieved(message);\n    };\n\n    wss.onclose = () => {\n      console.log(\"disconnected\");\n    };\n  }\n\n  closeConnection() {\n    wss.close();\n    this.setState({ isConnected: false });\n  }\n\n  zoomOut() {\n    this.setState({ zoom: this.state.zoom - 0.2 });\n  }\n\n  zoomIn() {\n    this.setState({ zoom: this.state.zoom + 0.2 });\n  }\n  handleModal(show) {\n    this.setState({ show: show });\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"main-header\">\n          <header>ORDER BOOK BTC/USD</header>\n          <div>\n            <button\n              disabled={this.state.zoom < 0.21}\n              onClick={this.zoomOut.bind(this)}\n            >\n              Z-\n            </button>\n            <button\n              disabled={this.state.zoom === 1}\n              onClick={this.zoomIn.bind(this)}\n            >\n              Z+\n            </button>\n            <button onClick={() => this.handleModal(true)}>settings</button>\n            <button\n              disabled={this.state.pres === 0}\n              onClick={this.lessPrecision.bind(this)}\n            >\n              P-\n            </button>\n            <button\n              disabled={this.state.pres === 3}\n              onClick={this.morePrecision.bind(this)}\n            >\n              P+\n            </button>\n          </div>\n        </div>\n        <div className=\"books-wrapper\">\n          <div className=\"bids-container\">\n            <BidsBook\n              orderBookBids={this.props.orderBookBids}\n              zoom={this.state.zoom}\n              visual={this.props.interFace.visual}\n              format={this.props.interFace.format}\n              order={this.props.interFace.order}\n            />\n          </div>\n          <div className=\"asks-container\">\n            <AsksBook\n              orderBookAsks={this.props.orderBookAsks}\n              zoom={this.state.zoom}\n              visual={this.props.interFace.visual}\n              format={this.props.interFace.format}\n              order={this.props.interFace.order}\n            />\n          </div>\n        </div>\n\n        <Modal\n          show={this.state.show}\n          handleClose={() => this.handleModal(false)}\n        >\n          <InterfaceView {...this.props} />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    orderBookBids: state.orderBookBids,\n    orderBookAsks: state.orderBookAsks,\n    interFace: state.interFace,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      updateAsksOrderBook: updateAsksOrderBook,\n      updateBidsOrderBook: updateBidsOrderBook,\n      clearBidsOrderBook: clearBidsOrderBook,\n      clearAsksOrderBook: clearAsksOrderBook,\n      updateFormat: updateFormat,\n      updateVisualization: updateVisualization,\n      updateOrder: updateOrder,\n    },\n    dispatch\n  );\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(OrderBook);\n","import React from \"react\";\nconst Modal = ({ handleClose, show, children }) => {\n  const showHideClassName = show ? \"modal display-block\" : \"modal display-none\";\n\n  return (\n    <div className={showHideClassName}>\n      <section className=\"modal-main\">\n        <div className=\"modal-header\">\n          <header> Interface settings for order book</header>\n          <button onClick={handleClose}>X</button>\n        </div>\n        \n        {children}\n      </section>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\n\nconst orders = [\n  \"count,price,amount,total\",\n  \"count,amount,total,price\",\n  \"count,total,price,amount\",\n];\nconst formats = [\"compact\", \"normal\"];\nconst toProperCase = function(str) {\n  return str.replace(/\\w\\S*/g, function(txt) {\n    return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n  });\n};\nconst InterfaceView = (props) => {\n  const { interFace, updateVisualization, updateOrder, updateFormat } = props;\n  const { order, format, visual } = interFace;\n  return (\n    <div>\n      <section>\n        <header>Book Depth Visualization:</header>\n        <div>\n          <input\n            type=\"radio\"\n            id=\"default\"\n            value=\"default\"\n            checked={visual === \"default\"}\n            onChange={() => updateVisualization(\"default\")}\n          />\n            <label htmlFor=\"default\">Cumulative (default)</label>\n          <br />\n          <input\n            type=\"radio\"\n            id=\"amount\"\n            value=\"amount\"\n            checked={visual === \"amount\"}\n            onChange={() => updateVisualization(\"amount\")}\n          />\n            <label htmlFor=\"amount\">Amount</label>\n        </div>\n      </section>\n      <section>\n        <header>Choose the order of the columns in the order book:</header>\n        <div>\n          {orders.map((o) => (\n            <div key={o}>\n              <input\n                type=\"radio\"\n                id={o}\n                value={o}\n                checked={order === o}\n                onChange={() => updateOrder(o)}\n              />\n               {\" \"}\n              <label htmlFor={o}>\n                {o\n                  .split(\",\")\n                  .map(toProperCase)\n                  .join(\" \")}\n                {\" \"}<b>\n                  {o\n                    .split(\",\")\n                    .map(toProperCase)\n                    .reverse()\n                    .join(\" \")}\n                </b>\n              </label>\n            </div>\n          ))}\n        </div>\n      </section>\n      <section>\n        <header>Book Amount and Total format numbers:</header>\n        <div>\n          {formats.map((o) => (\n            <div key={o}>\n              <input\n                type=\"radio\"\n                id={o}\n                value={o}\n                checked={format === o}\n                onChange={() => updateFormat(o)}\n              />\n                <label htmlFor={o}>{toProperCase(o)}</label>\n            </div>\n          ))}\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default InterfaceView;\n","export default function(state = [], newState, asks, orderBy = \"price\") {\n  let priceExists = false;\n\n  if (state.length > 0) {\n    state.forEach((row, index) => {\n      if (row.price && newState.price && row.price === newState.price) {\n        //Price already exists, so it should only update current row.\n        priceExists = true;\n        state[index].count = newState.count;\n        state[index].amount = newState.amount;\n      }\n    });\n  }\n\n  if (priceExists === true) {\n    priceExists = false;\n    return state.slice();\n  } else {\n    let newStateCombined = [...state, newState];\n    //Sort form lowest to highest price before returning. asks\n    //Sort form highest to lowest  price before returning. Bits\n    newStateCombined.sort(function(a, b) {\n      return asks ? a.price - b.price : b.price - a.price;\n    });\n\n    if (newStateCombined.length > 25) {\n      newStateCombined.pop();\n    }\n\n    // if (newStateCombined.length > 0) {\n    //   newStateCombined.forEach(function(row, index) {\n    //     if (!row || row.count === 0) {\n    //       newStateCombined.splice(index, 1);\n    //     }\n\n    //     if (asks && (!row || row.amount > 0)) {\n    //       newStateCombined.splice(index, 1);\n    //     }\n    //   });\n    // }\n\n    return newStateCombined\n      .filter((row) => row && row.amount !== 0)\n      .map((row, index) => {\n        if (newStateCombined[index - 1] && newStateCombined[index - 1].total) {\n          return {\n            ...row,\n            total:\n              parseFloat(newStateCombined[index - 1].total) +\n              Math.abs(parseFloat(row.amount)),\n          };\n        } else {\n          return { ...row, total: parseFloat(row.amount) };\n        }\n      });\n  }\n}\n","import { createStore, combineReducers } from \"redux\";\nimport OrderBookBidsReducer from \"./OrderBook/reducers/bids\";\nimport OrderBookAsksReducer from \"./OrderBook/reducers/asks\";\nimport interFace from \"./OrderBook/reducers/interface\";\n\nconst saveToLocalStorage = (state) => {\n  try {\n    localStorage.setItem(\"state\", JSON.stringify(state));\n  } catch (e) {\n    console.error(e);\n  }\n};\n\nconst loadFromLocalStorage = () => {\n  try {\n    const stateStr = localStorage.getItem(\"state\");\n    return stateStr ? JSON.parse(stateStr) : undefined;\n  } catch (e) {\n    console.error(e);\n    return undefined;\n  }\n};\n\nconst rootReducer = combineReducers({\n  orderBookBids: OrderBookBidsReducer,\n  orderBookAsks: OrderBookAsksReducer,\n  interFace: interFace,\n});\n\nconst persistedStore = loadFromLocalStorage();\n\nconst store = createStore(rootReducer, persistedStore);\n\nstore.subscribe(() => {\n  saveToLocalStorage(store.getState());\n});\n\nexport default store;\n","import dataManimpulator from \"../reducerUtil\";\n\nexport default function(state = [], action) {\n  const { type, newBidsData } = action;\n  switch (type) {\n    case \"UPDATE_BIDS_ORDER_BOOK\":\n      return dataManimpulator(state, newBidsData, false);\n    case \"CLEAR_BIDS\":\n      return newBidsData;\n    default:\n      return state.slice();\n  }\n}\n","import dataManimpulator from \"../reducerUtil\";\nexport default function(state = [], action) {\n  const { type, newAsksData } = action;\n  switch (type) {\n    case \"UPDATE_ASKS_ORDER_BOOK\":\n      return dataManimpulator(state, newAsksData, true);\n    case \"CLEAR_ASKS\":\n      return newAsksData;\n    default:\n      return state.slice();\n  }\n}\n","export default function(\n  state = { format: \"compact\", visual: \"default\", order: \"count,price,amount,total\" },\n  action\n) {\n  const { type, data } = action;\n  switch (type) {\n    case \"UPDATE_ORDER\":\n      return { ...state, order: data };\n    case \"UPDATE_VISUALIZATION\":\n      return { ...state, visual: data };\n    case \"UPDATE_FORMAT\":\n      return { ...state, format: data };\n    default:\n      return { ...state };\n  }\n}\n","import React, { Component } from 'react';\nimport OrderBook from './containers/OrderBook';\n\nimport { Provider } from 'react-redux';\n\nimport reducers from './store/store';\n\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={reducers}>\n        <div className=\"App\">\n          <OrderBook/>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/index.scss';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}